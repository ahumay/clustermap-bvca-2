// Compiled by ClojureScript 0.0-2356
goog.provide('clustermap.components.timeline_chart');
goog.require('cljs.core');
goog.require('jayq.core');
goog.require('clustermap.formats.number');
goog.require('sablono.core');
goog.require('clustermap.formats.number');
goog.require('clustermap.formats.money');
goog.require('om_tools.core');
goog.require('clustermap.api');
goog.require('sablono.core');
goog.require('clustermap.ordered_resource');
goog.require('jayq.core');
goog.require('om.core');
goog.require('om.core');
goog.require('clustermap.formats.money');
goog.require('clustermap.api');
goog.require('clustermap.ordered_resource');
clustermap.components.timeline_chart.create_chart = (function create_chart(data,node,p__69351){var map__69353 = p__69351;var map__69353__$1 = ((cljs.core.seq_QMARK_(map__69353))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69353):map__69353);var opts = map__69353__$1;var y1_title = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69353__$1,cljs.core.constant$keyword$1347);var y0_title = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69353__$1,cljs.core.constant$keyword$1348);console.log(cljs.core.clj__GT_js(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["TIMELINE: ",data], null)));
var x_labels = cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (p1__69346_SHARP_){return ((1900) + p1__69346_SHARP_);
});})(map__69353,map__69353__$1,opts,y1_title,y0_title))
,cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (p1__69345_SHARP_){return p1__69345_SHARP_.getYear();
});})(map__69353,map__69353__$1,opts,y1_title,y0_title))
,cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (p1__69344_SHARP_){return (new Date(p1__69344_SHARP_));
});})(map__69353,map__69353__$1,opts,y1_title,y0_title))
,cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.constant$keyword$1349,data))));var stats = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.constant$keyword$1350,data);var y_median = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.comp.cljs$core$IFn$_invoke$arity$2(((function (x_labels,stats,map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (p1__69347_SHARP_){return clustermap.formats.number.round_decimal(p1__69347_SHARP_,(0));
});})(x_labels,stats,map__69353,map__69353__$1,opts,y1_title,y0_title))
,((function (x_labels,stats,map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (p1__69348_SHARP_){return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(p1__69348_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.constant$keyword$1350,cljs.core.constant$keyword$1351], null));
});})(x_labels,stats,map__69353,map__69353__$1,opts,y1_title,y0_title))
),data);var y_mean = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.comp.cljs$core$IFn$_invoke$arity$2(((function (x_labels,stats,y_median,map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (p1__69349_SHARP_){return clustermap.formats.number.round_decimal(p1__69349_SHARP_,(0));
});})(x_labels,stats,y_median,map__69353,map__69353__$1,opts,y1_title,y0_title))
,((function (x_labels,stats,y_median,map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (p1__69350_SHARP_){return cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(p1__69350_SHARP_,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.constant$keyword$1350,cljs.core.constant$keyword$1352], null));
});})(x_labels,stats,y_median,map__69353,map__69353__$1,opts,y1_title,y0_title))
),data);var y_total = cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.constant$keyword$1353,data);return jayq.core.$.cljs$core$IFn$_invoke$arity$1(node).highcharts(cljs.core.clj__GT_js(new cljs.core.PersistentArrayMap(null, 5, [cljs.core.constant$keyword$1354,new cljs.core.PersistentArrayMap(null, 2, [cljs.core.constant$keyword$1359,null,cljs.core.constant$keyword$1360,(300)], null),cljs.core.constant$keyword$1355,new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$1361,null], null),cljs.core.constant$keyword$1356,new cljs.core.PersistentArrayMap(null, 2, [cljs.core.constant$keyword$1362,x_labels,cljs.core.constant$keyword$1363,new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$1364,(270)], null)], null),cljs.core.constant$keyword$1357,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [cljs.core.constant$keyword$1355,new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$1361,y0_title], null),cljs.core.constant$keyword$1365,(0),cljs.core.constant$keyword$1363,new cljs.core.PersistentArrayMap(null, 1, [cljs.core.constant$keyword$1366,((function (x_labels,stats,y_median,y_mean,y_total,map__69353,map__69353__$1,opts,y1_title,y0_title){
return (function (){var this$ = this;return clustermap.formats.money.readable.cljs$core$IFn$_invoke$arity$variadic(this$.value,cljs.core.array_seq([cljs.core.constant$keyword$1315,(3),cljs.core.constant$keyword$1346,""], 0));
});})(x_labels,stats,y_median,y_mean,y_total,map__69353,map__69353__$1,opts,y1_title,y0_title))
], null)], null)], null),cljs.core.constant$keyword$1358,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 4, [cljs.core.constant$keyword$1274,("Total "+cljs.core.str.cljs$core$IFn$_invoke$arity$1(y0_title)),cljs.core.constant$keyword$1160,"line",cljs.core.constant$keyword$1357,(0),cljs.core.constant$keyword$1305,y_total], null)], null)], null)));
});
clustermap.components.timeline_chart.request_timeline_data = (function request_timeline_data(resource,index,index_type,filter_spec,bounds,time_variable,interval,metric_variables){return clustermap.ordered_resource.api_call.cljs$core$IFn$_invoke$arity$variadic(resource,clustermap.api.timeline,cljs.core.array_seq([index,index_type,filter_spec,bounds,time_variable,null,null,interval,metric_variables], 0));
});
var ufv___69438 = schema.utils.use_fn_validation;var output_schema69355_69439 = schema.core.Any;var input_schema69356_69440 = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [schema.core.one(schema.core.Any,new cljs.core.Symbol(null,"arg0","arg0",-1024593414,null)),schema.core.one(schema.core.Any,new cljs.core.Symbol(null,"owner","owner",1247919588,null)),schema.core.one(schema.core.Any,new cljs.core.Symbol(null,"arg2","arg2",-924884852,null))], null);var input_checker69357_69441 = schema.core.checker(input_schema69356_69440);var output_checker69358_69442 = schema.core.checker(output_schema69355_69439);/**
* Inputs: [{{{index :index, index-type :index-type, time-variable :time-variable, measure-variables :measure-variables, interval :interval, :as controls} :controls, timeline-data :timeline-data, :as timeline-chart} :timeline-chart, {filter-by-view :filter-by-view, compiled-filter :compiled, :as filter-spec} :filter-spec, bounds :bounds, :as props} owner {:keys [id], :as opts}]
*/
clustermap.components.timeline_chart.timeline_chart = ((function (ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function timeline_chart(G__69359,G__69360,G__69361){var validate__13068__auto__ = ufv___69438.get_cell();if(cljs.core.truth_(validate__13068__auto__))
{var args__13069__auto___69443 = new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [G__69359,G__69360,G__69361], null);var temp__4126__auto___69444 = (function (){var G__69400 = args__13069__auto___69443;return (input_checker69357_69441.cljs$core$IFn$_invoke$arity$1 ? input_checker69357_69441.cljs$core$IFn$_invoke$arity$1(G__69400) : input_checker69357_69441.call(null,G__69400));
})();if(cljs.core.truth_(temp__4126__auto___69444))
{var error__13070__auto___69445 = temp__4126__auto___69444;throw cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2(schema.utils.format_STAR_.cljs$core$IFn$_invoke$arity$variadic("Input to %s does not match schema: %s",cljs.core.array_seq([new cljs.core.Symbol(null,"timeline-chart","timeline-chart",2135471483,null),cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([error__13070__auto___69445], 0))], 0)),new cljs.core.PersistentArrayMap(null, 3, [cljs.core.constant$keyword$1319,input_schema69356_69440,cljs.core.constant$keyword$1275,args__13069__auto___69443,cljs.core.constant$keyword$1318,error__13070__auto___69445], null));
} else
{}
} else
{}
var o__13071__auto__ = (function (){var G__69406 = G__69359;var map__69408 = G__69406;var map__69408__$1 = ((cljs.core.seq_QMARK_(map__69408))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69408):map__69408);var props = map__69408__$1;var map__69409 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69408__$1,cljs.core.constant$keyword$1367);var map__69409__$1 = ((cljs.core.seq_QMARK_(map__69409))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69409):map__69409);var timeline_chart__$1 = map__69409__$1;var map__69410 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69409__$1,cljs.core.constant$keyword$1368);var map__69410__$1 = ((cljs.core.seq_QMARK_(map__69410))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69410):map__69410);var controls = map__69410__$1;var index = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69410__$1,cljs.core.constant$keyword$1158);var index_type = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69410__$1,cljs.core.constant$keyword$1369);var time_variable = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69410__$1,cljs.core.constant$keyword$1151);var measure_variables = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69410__$1,cljs.core.constant$keyword$1370);var interval = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69410__$1,cljs.core.constant$keyword$1154);var timeline_data = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69409__$1,cljs.core.constant$keyword$1371);var map__69411 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69408__$1,cljs.core.constant$keyword$1150);var map__69411__$1 = ((cljs.core.seq_QMARK_(map__69411))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69411):map__69411);var filter_spec = map__69411__$1;var filter_by_view = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69411__$1,cljs.core.constant$keyword$1372);var compiled_filter = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69411__$1,cljs.core.constant$keyword$1373);var bounds = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69408__$1,cljs.core.constant$keyword$1142);var owner = G__69360;var G__69407 = G__69361;var map__69412 = G__69407;var map__69412__$1 = ((cljs.core.seq_QMARK_(map__69412))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69412):map__69412);var opts = map__69412__$1;var id = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69412__$1,cljs.core.constant$keyword$1162);var G__69406__$1 = G__69406;var owner__$1 = owner;var G__69407__$1 = G__69407;while(true){
var map__69413 = G__69406__$1;var map__69413__$1 = ((cljs.core.seq_QMARK_(map__69413))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69413):map__69413);var props__$1 = map__69413__$1;var map__69414 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69413__$1,cljs.core.constant$keyword$1367);var map__69414__$1 = ((cljs.core.seq_QMARK_(map__69414))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69414):map__69414);var timeline_chart__$2 = map__69414__$1;var map__69415 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69414__$1,cljs.core.constant$keyword$1368);var map__69415__$1 = ((cljs.core.seq_QMARK_(map__69415))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69415):map__69415);var controls__$1 = map__69415__$1;var index__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69415__$1,cljs.core.constant$keyword$1158);var index_type__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69415__$1,cljs.core.constant$keyword$1369);var time_variable__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69415__$1,cljs.core.constant$keyword$1151);var measure_variables__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69415__$1,cljs.core.constant$keyword$1370);var interval__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69415__$1,cljs.core.constant$keyword$1154);var timeline_data__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69414__$1,cljs.core.constant$keyword$1371);var map__69416 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69413__$1,cljs.core.constant$keyword$1150);var map__69416__$1 = ((cljs.core.seq_QMARK_(map__69416))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69416):map__69416);var filter_spec__$1 = map__69416__$1;var filter_by_view__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69416__$1,cljs.core.constant$keyword$1372);var compiled_filter__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69416__$1,cljs.core.constant$keyword$1373);var bounds__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69413__$1,cljs.core.constant$keyword$1142);var owner__$2 = owner__$1;var map__69417 = G__69407__$1;var map__69417__$1 = ((cljs.core.seq_QMARK_(map__69417))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69417):map__69417);var opts__$1 = map__69417__$1;var id__$1 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69417__$1,cljs.core.constant$keyword$1162);if(typeof clustermap.components.timeline_chart.t69418 !== 'undefined')
{} else
{
/**
* @constructor
*/
clustermap.components.timeline_chart.t69418 = (function (interval,index_type,compiled_filter,G__69407,output_checker69358,map__69410,owner,G__69361,input_checker69357,map__69414,filter_by_view,props,measure_variables,validate__13068__auto__,map__69416,input_schema69356,timeline_data,index,time_variable,filter_spec,map__69413,map__69417,map__69415,controls,G__69360,bounds,G__69406,map__69408,map__69409,id,timeline_chart,opts,output_schema69355,map__69411,ufv__,G__69359,map__69412,meta69419){
this.interval = interval;
this.index_type = index_type;
this.compiled_filter = compiled_filter;
this.G__69407 = G__69407;
this.output_checker69358 = output_checker69358;
this.map__69410 = map__69410;
this.owner = owner;
this.G__69361 = G__69361;
this.input_checker69357 = input_checker69357;
this.map__69414 = map__69414;
this.filter_by_view = filter_by_view;
this.props = props;
this.measure_variables = measure_variables;
this.validate__13068__auto__ = validate__13068__auto__;
this.map__69416 = map__69416;
this.input_schema69356 = input_schema69356;
this.timeline_data = timeline_data;
this.index = index;
this.time_variable = time_variable;
this.filter_spec = filter_spec;
this.map__69413 = map__69413;
this.map__69417 = map__69417;
this.map__69415 = map__69415;
this.controls = controls;
this.G__69360 = G__69360;
this.bounds = bounds;
this.G__69406 = G__69406;
this.map__69408 = map__69408;
this.map__69409 = map__69409;
this.id = id;
this.timeline_chart = timeline_chart;
this.opts = opts;
this.output_schema69355 = output_schema69355;
this.map__69411 = map__69411;
this.ufv__ = ufv__;
this.G__69359 = G__69359;
this.map__69412 = map__69412;
this.meta69419 = meta69419;
this.cljs$lang$protocol_mask$partition1$ = 0;
this.cljs$lang$protocol_mask$partition0$ = 393216;
})
clustermap.components.timeline_chart.t69418.cljs$lang$type = true;
clustermap.components.timeline_chart.t69418.cljs$lang$ctorStr = "clustermap.components.timeline-chart/t69418";
clustermap.components.timeline_chart.t69418.cljs$lang$ctorPrWriter = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (this__4213__auto__,writer__4214__auto__,opt__4215__auto__){return cljs.core._write(writer__4214__auto__,"clustermap.components.timeline-chart/t69418");
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.t69418.prototype.om$core$IDisplayName$ = true;
clustermap.components.timeline_chart.t69418.prototype.om$core$IDisplayName$display_name$arity$1 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (_){var self__ = this;
var ___$1 = this;return "timeline-chart";
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.t69418.prototype.om$core$IDidUpdate$ = true;
clustermap.components.timeline_chart.t69418.prototype.om$core$IDidUpdate$did_update$arity$3 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (_,p__69421,___$1){var self__ = this;
var map__69422 = p__69421;var map__69422__$1 = ((cljs.core.seq_QMARK_(map__69422))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69422):map__69422);var prev_props = map__69422__$1;var map__69423 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69422__$1,cljs.core.constant$keyword$1367);var map__69423__$1 = ((cljs.core.seq_QMARK_(map__69423))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69423):map__69423);var prev_timeline_chart = map__69423__$1;var map__69424 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69423__$1,cljs.core.constant$keyword$1368);var map__69424__$1 = ((cljs.core.seq_QMARK_(map__69424))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69424):map__69424);var prev_controls = map__69424__$1;var prev_index = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69424__$1,cljs.core.constant$keyword$1158);var prev_index_type = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69424__$1,cljs.core.constant$keyword$1369);var prev_time_variable = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69424__$1,cljs.core.constant$keyword$1151);var prev_measure_variables = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69424__$1,cljs.core.constant$keyword$1370);var prev_interval = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69424__$1,cljs.core.constant$keyword$1154);var prev_timeline_data = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69423__$1,cljs.core.constant$keyword$1371);var map__69425 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69422__$1,cljs.core.constant$keyword$1150);var map__69425__$1 = ((cljs.core.seq_QMARK_(map__69425))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69425):map__69425);var prev_filter_spec = map__69425__$1;var prev_filter_by_view = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69425__$1,cljs.core.constant$keyword$1372);var prev_compiled_filter = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69425__$1,cljs.core.constant$keyword$1373);var prev_bounds = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69422__$1,cljs.core.constant$keyword$1142);var ___$2 = this;if(cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(prev_timeline_data,self__.timeline_data))
{return clustermap.components.timeline_chart.create_chart(self__.timeline_data,om.core.get_node.cljs$core$IFn$_invoke$arity$2(self__.owner,"chart"),self__.opts);
} else
{return null;
}
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.t69418.prototype.om$core$IWillUpdate$ = true;
clustermap.components.timeline_chart.t69418.prototype.om$core$IWillUpdate$will_update$arity$3 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (_,p__69426,p__69427){var self__ = this;
var map__69428 = p__69426;var map__69428__$1 = ((cljs.core.seq_QMARK_(map__69428))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69428):map__69428);var next_props = map__69428__$1;var map__69429 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69428__$1,cljs.core.constant$keyword$1367);var map__69429__$1 = ((cljs.core.seq_QMARK_(map__69429))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69429):map__69429);var next_timeline_chart = map__69429__$1;var map__69430 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69429__$1,cljs.core.constant$keyword$1368);var map__69430__$1 = ((cljs.core.seq_QMARK_(map__69430))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69430):map__69430);var next_controls = map__69430__$1;var next_index = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69430__$1,cljs.core.constant$keyword$1158);var next_index_type = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69430__$1,cljs.core.constant$keyword$1369);var next_time_variable = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69430__$1,cljs.core.constant$keyword$1151);var next_measure_variables = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69430__$1,cljs.core.constant$keyword$1370);var next_interval = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69430__$1,cljs.core.constant$keyword$1154);var next_timeline_data = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69429__$1,cljs.core.constant$keyword$1371);var map__69431 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69428__$1,cljs.core.constant$keyword$1150);var map__69431__$1 = ((cljs.core.seq_QMARK_(map__69431))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69431):map__69431);var next_filter_spec = map__69431__$1;var next_filter_by_view = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69431__$1,cljs.core.constant$keyword$1372);var next_compiled_filter = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69431__$1,cljs.core.constant$keyword$1373);var next_bounds = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69428__$1,cljs.core.constant$keyword$1142);var map__69432 = p__69427;var map__69432__$1 = ((cljs.core.seq_QMARK_(map__69432))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69432):map__69432);var next_timeline_data_resource = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69432__$1,cljs.core.constant$keyword$1374);var ___$1 = this;console.log(cljs.core.clj__GT_js(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["FILTER_SPEC: ",next_filter_spec], null)));
if(cljs.core.truth_((function (){var or__3637__auto__ = cljs.core.not(next_timeline_data);if(or__3637__auto__)
{return or__3637__auto__;
} else
{var or__3637__auto____$1 = cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(next_controls,self__.controls);if(or__3637__auto____$1)
{return or__3637__auto____$1;
} else
{var or__3637__auto____$2 = cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(next_filter_spec,self__.filter_spec);if(or__3637__auto____$2)
{return or__3637__auto____$2;
} else
{var and__3625__auto__ = next_filter_by_view;if(cljs.core.truth_(and__3625__auto__))
{return cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(next_bounds,self__.bounds);
} else
{return and__3625__auto__;
}
}
}
}
})()))
{return clustermap.components.timeline_chart.request_timeline_data(next_timeline_data_resource,next_index,next_index_type,next_compiled_filter,(cljs.core.truth_(next_filter_by_view)?next_bounds:null),next_time_variable,next_interval,next_measure_variables);
} else
{return null;
}
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.t69418.prototype.om$core$IDidMount$ = true;
clustermap.components.timeline_chart.t69418.prototype.om$core$IDidMount$did_mount$arity$1 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (_){var self__ = this;
var ___$1 = this;var tdr_69446 = clustermap.ordered_resource.make_discard_stale_resource("timeline-data-resource");om.core.set_state_BANG_.cljs$core$IFn$_invoke$arity$3(self__.owner,cljs.core.constant$keyword$1374,tdr_69446);
clustermap.ordered_resource.retrieve_responses(tdr_69446,((function (tdr_69446,___$1,map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (p__69433){var map__69434 = p__69433;var map__69434__$1 = ((cljs.core.seq_QMARK_(map__69434))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__69434):map__69434);var response = map__69434__$1;var data = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__69434__$1,cljs.core.constant$keyword$1305);console.log(cljs.core.clj__GT_js(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["TIMELINE RESPONSE: ",response], null)));
return om.core.update_BANG_.cljs$core$IFn$_invoke$arity$3(self__.timeline_chart,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.constant$keyword$1371], null),data);
});})(tdr_69446,___$1,map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
);
var node = om.core.get_node.cljs$core$IFn$_invoke$arity$1(self__.owner);return jayq.core.$.cljs$core$IFn$_invoke$arity$1(document).on("clustermap-change-view",((function (node,___$1,map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (e){var chart = jayq.core.$.cljs$core$IFn$_invoke$arity$1(om.core.get_node.cljs$core$IFn$_invoke$arity$2(self__.owner,"chart"));if(cljs.core.truth_(chart.is(":visible")))
{var G__69435 = chart;var G__69435__$1 = (((G__69435 == null))?null:G__69435.highcharts());var G__69435__$2 = (((G__69435__$1 == null))?null:G__69435__$1.reflow());return G__69435__$2;
} else
{return null;
}
});})(node,___$1,map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
);
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.t69418.prototype.om$core$IRender$ = true;
clustermap.components.timeline_chart.t69418.prototype.om$core$IRender$render$arity$1 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (_){var self__ = this;
var ___$1 = this;var G__69436 = {"className": "timeline-chart", "id": self__.id, "ref": "chart"};return React.DOM.div(G__69436);
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.t69418.prototype.cljs$core$IMeta$_meta$arity$1 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (_69420){var self__ = this;
var _69420__$1 = this;return self__.meta69419;
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.t69418.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function (_69420,meta69419__$1){var self__ = this;
var _69420__$1 = this;return (new clustermap.components.timeline_chart.t69418(self__.interval,self__.index_type,self__.compiled_filter,self__.G__69407,self__.output_checker69358,self__.map__69410,self__.owner,self__.G__69361,self__.input_checker69357,self__.map__69414,self__.filter_by_view,self__.props,self__.measure_variables,self__.validate__13068__auto__,self__.map__69416,self__.input_schema69356,self__.timeline_data,self__.index,self__.time_variable,self__.filter_spec,self__.map__69413,self__.map__69417,self__.map__69415,self__.controls,self__.G__69360,self__.bounds,self__.G__69406,self__.map__69408,self__.map__69409,self__.id,self__.timeline_chart,self__.opts,self__.output_schema69355,self__.map__69411,self__.ufv__,self__.G__69359,self__.map__69412,meta69419__$1));
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
clustermap.components.timeline_chart.__GT_t69418 = ((function (map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442){
return (function __GT_t69418(interval__$2,index_type__$2,compiled_filter__$2,G__69407__$2,output_checker69358__$1,map__69410__$2,owner__$3,G__69361__$1,input_checker69357__$1,map__69414__$2,filter_by_view__$2,props__$2,measure_variables__$2,validate__13068__auto____$1,map__69416__$2,input_schema69356__$1,timeline_data__$2,index__$2,time_variable__$2,filter_spec__$2,map__69413__$2,map__69417__$2,map__69415__$2,controls__$2,G__69360__$1,bounds__$2,G__69406__$2,map__69408__$2,map__69409__$2,id__$2,timeline_chart__$3,opts__$2,output_schema69355__$1,map__69411__$2,ufv____$1,G__69359__$1,map__69412__$2,meta69419){return (new clustermap.components.timeline_chart.t69418(interval__$2,index_type__$2,compiled_filter__$2,G__69407__$2,output_checker69358__$1,map__69410__$2,owner__$3,G__69361__$1,input_checker69357__$1,map__69414__$2,filter_by_view__$2,props__$2,measure_variables__$2,validate__13068__auto____$1,map__69416__$2,input_schema69356__$1,timeline_data__$2,index__$2,time_variable__$2,filter_spec__$2,map__69413__$2,map__69417__$2,map__69415__$2,controls__$2,G__69360__$1,bounds__$2,G__69406__$2,map__69408__$2,map__69409__$2,id__$2,timeline_chart__$3,opts__$2,output_schema69355__$1,map__69411__$2,ufv____$1,G__69359__$1,map__69412__$2,meta69419));
});})(map__69413,map__69413__$1,props__$1,map__69414,map__69414__$1,timeline_chart__$2,map__69415,map__69415__$1,controls__$1,index__$1,index_type__$1,time_variable__$1,measure_variables__$1,interval__$1,timeline_data__$1,map__69416,map__69416__$1,filter_spec__$1,filter_by_view__$1,compiled_filter__$1,bounds__$1,owner__$2,map__69417,map__69417__$1,opts__$1,id__$1,G__69406,map__69408,map__69408__$1,props,map__69409,map__69409__$1,timeline_chart__$1,map__69410,map__69410__$1,controls,index,index_type,time_variable,measure_variables,interval,timeline_data,map__69411,map__69411__$1,filter_spec,filter_by_view,compiled_filter,bounds,owner,G__69407,map__69412,map__69412__$1,opts,id,validate__13068__auto__,ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
}
return (new clustermap.components.timeline_chart.t69418(interval__$1,index_type__$1,compiled_filter__$1,G__69407__$1,output_checker69358_69442,map__69410__$1,owner__$2,G__69361,input_checker69357_69441,map__69414__$1,filter_by_view__$1,props__$1,measure_variables__$1,validate__13068__auto__,map__69416__$1,input_schema69356_69440,timeline_data__$1,index__$1,time_variable__$1,filter_spec__$1,map__69413__$1,map__69417__$1,map__69415__$1,controls__$1,G__69360,bounds__$1,G__69406__$1,map__69408__$1,map__69409__$1,id__$1,timeline_chart__$2,opts__$1,output_schema69355_69439,map__69411__$1,ufv___69438,G__69359,map__69412__$1,null));
break;
}
})();if(cljs.core.truth_(validate__13068__auto__))
{var temp__4126__auto___69447 = (function (){var G__69437 = o__13071__auto__;return (output_checker69358_69442.cljs$core$IFn$_invoke$arity$1 ? output_checker69358_69442.cljs$core$IFn$_invoke$arity$1(G__69437) : output_checker69358_69442.call(null,G__69437));
})();if(cljs.core.truth_(temp__4126__auto___69447))
{var error__13070__auto___69448 = temp__4126__auto___69447;throw cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2(schema.utils.format_STAR_.cljs$core$IFn$_invoke$arity$variadic("Output of %s does not match schema: %s",cljs.core.array_seq([new cljs.core.Symbol(null,"timeline-chart","timeline-chart",2135471483,null),cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.array_seq([error__13070__auto___69448], 0))], 0)),new cljs.core.PersistentArrayMap(null, 3, [cljs.core.constant$keyword$1319,output_schema69355_69439,cljs.core.constant$keyword$1275,o__13071__auto__,cljs.core.constant$keyword$1318,error__13070__auto___69448], null));
} else
{}
} else
{}
return o__13071__auto__;
});})(ufv___69438,output_schema69355_69439,input_schema69356_69440,input_checker69357_69441,output_checker69358_69442))
;
schema.utils.declare_class_schema_BANG_(schema.utils.fn_schema_bearer(clustermap.components.timeline_chart.timeline_chart),schema.core.make_fn_schema(output_schema69355_69439,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [input_schema69356_69440], null)));
clustermap.components.timeline_chart.__GT_timeline_chart = (function() {
var __GT_timeline_chart = null;
var __GT_timeline_chart__1 = (function (cursor__15480__auto__){return om.core.build.cljs$core$IFn$_invoke$arity$2(clustermap.components.timeline_chart.timeline_chart,cursor__15480__auto__);
});
var __GT_timeline_chart__2 = (function (cursor__15480__auto__,m69354){return om.core.build.cljs$core$IFn$_invoke$arity$3(clustermap.components.timeline_chart.timeline_chart,cursor__15480__auto__,m69354);
});
__GT_timeline_chart = function(cursor__15480__auto__,m69354){
switch(arguments.length){
case 1:
return __GT_timeline_chart__1.call(this,cursor__15480__auto__);
case 2:
return __GT_timeline_chart__2.call(this,cursor__15480__auto__,m69354);
}
throw(new Error('Invalid arity: ' + arguments.length));
};
__GT_timeline_chart.cljs$core$IFn$_invoke$arity$1 = __GT_timeline_chart__1;
__GT_timeline_chart.cljs$core$IFn$_invoke$arity$2 = __GT_timeline_chart__2;
return __GT_timeline_chart;
})()
;
